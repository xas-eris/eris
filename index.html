<html>
<head>
<title>Eris</title>

<link rel="stylesheet" href="css/stylesheet.css" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.10/require.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script>
var mydata = [  
        {
            Symbol: "AAPL",
            Company: "Apple Inc.",
            Price: 132.54
        },
        {
            Symbol: "INTC",
            Company: "Intel Corporation",
            Price: 33.45
        },
        {
            Symbol: "GOOG",
            Company: "Google Inc",
            Price: 554.52
        },
    ];

function convertArrayOfObjectsToCSV(args) {  
        var result, ctr, keys, columnDelimiter, lineDelimiter, data;

        data = args.data || null;
        if (data == null || !data.length) {
            return null;
        }

        columnDelimiter = args.columnDelimiter || ',';
        lineDelimiter = args.lineDelimiter || '\n';

        keys = Object.keys(data[0]);

        result = '';
        result += keys.join(columnDelimiter);
        result += lineDelimiter;

        data.forEach(function(item) {
            ctr = 0;
            keys.forEach(function(key) {
                if (ctr > 0) result += columnDelimiter;

                result += item[key];
                ctr++;
            });
            result += lineDelimiter;
        });

        return result;
    }

function downloadCSV(args) {  
        var data, filename, link;
        var csv = convertArrayOfObjectsToCSV({
            data: mydata
        });
        if (csv == null) return;

        filename = args.filename || 'export.csv';

        if (!csv.match(/^data:text\/csv/i)) {
            csv = 'data:text/csv;charset=utf-8,' + csv;
        }
        data = encodeURI(csv);

        link = document.createElement('a');
        link.setAttribute('href', data);
        link.setAttribute('download', filename);
        link.click();
    }
</script>

<!-- Loading mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_HTML"></script>
<!-- MathJax configuration -->
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
        processEscapes: true,
        processEnvironments: true
    },
    // Center justify equations in code and markdown cells. Elsewhere
    // we use CSS to left justify single line equations in code cells.
    displayAlign: 'center',
    "HTML-CSS": {
        styles: {'.MathJax_Display': {"margin": 0}},
        linebreaks: { automatic: true }
    }
});
</script><!-- End of mathjax configuration -->

</head>

<body>

<div class="output_wrapper">
<div class="output">
<div class="output_area">
    <div class="prompt"></div>
<div id="6ed730d7-2fd8-4b59-bc46-e63b6bc980b3"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript" src="js/jsFromPython_dontTouch.js"></script>
</div>
</div>
<div class="output_area">
    <div class="prompt"></div>
<div class="output_html rendered_html output_subarea ">
  <div class="bk-root" id="d26f18ce-60a8-4829-99ef-f13ba34b6869"></div>
</div>
</div>
<div class="output_area">
    <div class="prompt"></div>
<div id="ef202bab-ee74-4fc1-928d-cf79d3cb89cd"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript" src="js/test.js"></script>
</div>
</div>
</div>
</div>
</div>
    </div>
  </div>

<a href='#' onclick='downloadCSV({ filename: "output.csv" });'>
[TEST] Download CSV Output [TEST]
</a>

<div> heya </div>
<script> window.alert(xx); </script>

</body>
</html>
